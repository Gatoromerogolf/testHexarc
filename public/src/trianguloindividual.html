<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triángulo Coloreado</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <canvas id="trianguloCanvas" width="400" height="400"></canvas>

    <script>
        const valor = 100; // Cambia este valor para probar diferentes porcentajes

        function dibujarTrianguloConColores(valor) {
            const canvas = document.getElementById('trianguloCanvas');
            const ctx = canvas.getContext('2d');
            const centroX = canvas.width / 2;
            const centroY = canvas.height / 2;
            const altura = 200; // Altura del triángulo

            // Limpiar el canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Calcular el área a dibujar
            const rangos = [
                { limite: 40, color: 'red' },
                { limite: 80, color: 'yellow' },
                { limite: 85, color: 'green' },
                { limite: 100, color: 'blue' }
            ];

            let porcentajeRestante = valor;
            let radioAnterior = 0;

            // Dibujar cada rango de color
            for (let i = 0; i < rangos.length; i++) {
                const rango = rangos[i];
                let porcentajeDeRango = rango.limite - radioAnterior;

                if (porcentajeRestante > 0) {
                    if (porcentajeRestante < porcentajeDeRango) {
                        porcentajeDeRango = porcentajeRestante; // Limitar al porcentaje que queda
                    }

                    const alturaSeccion = (porcentajeDeRango / 100) * altura;

                    // Dibujar el área en el triángulo
                    ctx.beginPath();
                    ctx.moveTo(centroX, centroY); // Desde el centro
                    ctx.lineTo(centroX - alturaSeccion * Math.sin(Math.PI / 3), centroY + alturaSeccion); // Vértice izquierdo
                    ctx.lineTo(centroX + alturaSeccion * Math.sin(Math.PI / 3), centroY + alturaSeccion); // Vértice derecho
                    ctx.closePath();
                    ctx.fillStyle = rango.color;
                    ctx.fill();

                    // Actualizar el porcentaje restante
                    porcentajeRestante -= porcentajeDeRango;
                    radioAnterior += porcentajeDeRango;

                    // Si se ha completado el 100%, romper el bucle
                    if (porcentajeRestante <= 0) {
                        break;
                    }
                }
            }

            // Dibujar el contorno del triángulo
            ctx.beginPath();
            ctx.moveTo(centroX, centroY); // Vértice superior
            ctx.lineTo(centroX - altura * Math.sin(Math.PI / 3), centroY + altura); // Vértice inferior izquierdo
            ctx.lineTo(centroX + altura * Math.sin(Math.PI / 3), centroY + altura); // Vértice inferior derecho
            ctx.closePath();
            ctx.strokeStyle = 'black';
            ctx.stroke();
        }

        // Dibuja el triángulo con el valor dado
        dibujarTrianguloConColores(valor);
    </script>
</body>
</html>
