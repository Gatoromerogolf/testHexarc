<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluación de riesgos</title>
    <script src="https://cdn.jsdelivr.net/npm/gaugeJS/dist/gauge.min.js"></script>
    <link href="../estilos/estiloEncuestas.css" rel="stylesheet">
    <!-- <link href="css/st-gobCorpo.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Abel&family=Barlow+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Courgette&family=Gupter:wght@400;500;700&family=PT+Sans+Narrow:wght@400;700&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Roboto+Serif:ital,opsz,wght@0,8..144,100..900;1,8..144,100..900&display=swap"
        rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>

<body>
    <div class="survey-container">
        <section class="main">
            <section class="gobCorpo">
                <div class="header-container">
                    <div class="header-center">
                        <div id="nombreEmpresa" class="company-name"></div>
                        <div id="nombreUsuario" class="user-name"></div>
                    </div>
                    <div class="nav-iconsxx">
                        <h4> A - Manejo de los Riesgos de Gobierno Corporativo</h4>
                    </div>
                    <div class="nav-iconsxx">
                        <h5> Autoevaluación</h5>
                    </div>
                </div>
                <hr>

                <form id="formulario">
                    <div class="center-container">
                        <h4 class="tituloSeccion"><a href="Menu-A.html">II - Estructura organizacional</a></h4>
                    </div>

                    <div class="centrado-flex">
                        <button type="submit" id="boton-enviar">Generar</button>
                        <button type="button" id="boton-generar-pdf">Generar PDF</button>
                    </div>
                </form>
            </section>
        </section>
    </div>
</body>


<!-- https://claude.ai/chat/da1b05d0-f15d-487d-bd62-f4f05b81c356
https://claude.ai/login?returnTo=%2F%3F
El tamaño de una hoja A4 es de 210 x 297 milímetros, es decir, 21 centímetros de ancho por 29,7 centímetros de largo.  -->

<script>

    const textoTipificacion = localStorage.getItem("textoTipificacion");
    const tipificacion = localStorage.getItem("tipificacion");

    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("boton-generar-pdf").addEventListener("click", generarPDF);
    });

    function generarPDF() {
        // Crear un elemento temporal para construir el contenido HTML
        const contenido = document.createElement('div');
        
        const primeraPagina = document.createElement('div');
        primeraPagina.style.width = 'calc(100% - 20mm)'; // Ancho ajustado para márgenes
        primeraPagina.style.height = '277mm'; // Altura A4 menos márgenes
        primeraPagina.style.margin = '10mm';
        primeraPagina.style.border = '1px solid #000';
        primeraPagina.style.backgroundImage = 'url("../img/imagenPDF.webp")';
        // primeraPagina.style.backgroundImage = 'url("../img/calidad.jpg")';
        primeraPagina.style.backgroundSize = 'cover';
        primeraPagina.style.backgroundPosition = 'center';
        primeraPagina.style.pageBreakAfter = 'always';
        contenido.appendChild(primeraPagina);

        // ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
        // ♦ Añadir la segunda página (índice)
        // ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
        const segundaPagina = crearPaginaConMarco();
        segundaPagina.style.padding = '10mm';
        segundaPagina.style.pageBreakAfter = 'always';

        const tituloIndice = document.createElement('h1');
        tituloIndice.textContent = 'Índice General';
        tituloIndice.style.textAlign = 'center';
        tituloIndice.style.fontFamily = 'Helvetica, Arial, sans-serif';
        segundaPagina.appendChild(tituloIndice);

        const indice = ["Introducción",
            "El Modelo HexaRCi",
            "Aplicación del Modelo",
            "Representación gráfica",
            "Recomendaciones"];
        const listaIndice = document.createElement('ol');
        listaIndice.style.marginTop = '10mm';
        listaIndice.style.fontFamily = 'Helvetica, Arial, sans-serif';

        indice.forEach(item => {
            const elementoLista = document.createElement('li');
            elementoLista.textContent = item;
            elementoLista.style.marginBottom = '5mm';
            listaIndice.appendChild(elementoLista);
        });

        segundaPagina.appendChild(listaIndice);
        contenido.appendChild(segundaPagina);

        // ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
        // ♦ Añadir la tercera página (contenido) con un borde
        // ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
        const terceraPagina = crearPaginaConMarco();

        let parrafo = document.createElement('p');
        parrafo.style.fontFamily = 'Helvetica, Arial, sans-serif';
        parrafo.style.fontSize = '14pt';
        parrafo.style.lineHeight = '1.5';
        parrafo.innerHTML = "De acuerdo con los términos de la Propuesta de servicios profesionales de BDT Advisory LLC para BDT Advisory del Sistema HexaRCi, el presente informe tiene el ámbito de uso reservado previsto en la misma.<br><br>  De acuerdo con la información cargada por BDT Advisory y a los parámetros del Modelo HexaRCi, la Compañia <strong><span class='company-name' style='font-size: 16px'>BDT Advisory </span></strong> es una compañia calificada preliminarmente como tipo:";
        terceraPagina.appendChild(parrafo);

        const resultado = document.createElement('p');
        resultado.innerHTML = tipificacion;
        resultado.style.fontFamily = 'Helvetica, Arial, sans-serif';
        resultado.style.fontSize = '16pt';
        resultado.style.fontWeight = 'bold';
        resultado.style.textAlign = 'center';
        resultado.style.marginTop = '15mm';
        terceraPagina.appendChild(resultado);

        parrafo = document.createElement('p');
        parrafo.style.fontFamily = 'Helvetica, Arial, sans-serif';
        parrafo.style.fontSize = '14pt';
        parrafo.style.lineHeight = '1.5';
        parrafo.innerHTML = textoTipificacion;
        terceraPagina.appendChild(parrafo);

        contenido.appendChild(terceraPagina);

        // ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
        // ♦ Añadir la quinta página (contenido) con un borde
        // ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

        const quintaPagina = crearPaginaConMarco();

        parrafo = document.createElement('p');
        parrafo.style.fontFamily = 'Helvetica, Arial, sans-serif';
        parrafo.style.fontSize = '14pt';
        parrafo.style.lineHeight = '1.5';
        parrafo.innerHTML = "<strong><span class='company-name' style='font-size: 16px'>QUINTA PAGINA</span></strong> modelo grafico";

        quintaPagina.appendChild(parrafo);

        // Añadir el container para el canvas
        const canvasContainer = document.createElement('div');
        canvasContainer.style.width = '100%';
        canvasContainer.style.display = 'flex';
        canvasContainer.style.justifyContent = 'center';
        canvasContainer.style.marginTop = '10mm';

        // Crear el canvas para el hexágono
        const hexagonoCanvas = document.createElement('canvas');
        hexagonoCanvas.id = 'hexagonoPDF';
        hexagonoCanvas.width = 500;
        hexagonoCanvas.height = 500;
        canvasContainer.appendChild(hexagonoCanvas);

        quintaPagina.appendChild(canvasContainer);

        // Agregar la página completa al contenido
        if (contenido) {
            contenido.appendChild(quintaPagina);
        } else {
            console.error("El contenedor 'contenido' no existe.");
        }

        // Ahora dibujamos el hexágono en el canvas
        const canvasPDF = document.getElementById('hexagonoPDF');

        if (!canvasPDF) {
            console.error("No se encontró el canvas con ID 'hexagonoPDF'.");
        } else {
            const ctx = canvasPDF.getContext('2d');
            if (!ctx) {
                console.error("No se pudo obtener el contexto 2D del canvas.");
            } else {
                const var1 = 59.91, var2 = 89.50, var3 = 59.09, var4 = 72.64, var5 = 63.00, var6 = 41.36;
                let variablesHexagono = [var1, var2, var3, var4, var5, var6];

                const rotulosHexagono = ['Gobierno Corporativo', 'Apetito Riesgo', 'Riesgos Mercado', 'Riesgos Procesos', 'Situación Financiera', 'Generación Resultados'];

                // Dibujamos el hexágono en el canvas del PDF
                setTimeout(() => {
                    const canvasPDF = document.getElementById('hexagonoPDF');

                    if (!canvasPDF) {
                        console.error("No se encontró el canvas con ID 'hexagonoPDF'.");
                        return;
                    }

                    if (canvasPDF) {
                        const ctx = canvasPDF.getContext('2d');
                        const centerX = canvasPDF.width / 2;
                        const centerY = canvasPDF.height / 2;
                        const radioMax = 170;
                        const radio90 = radioMax * 0.9;
                        const radio70 = radioMax * 0.7;
                        const radio50 = radioMax * 0.5;

                        ctx.clearRect(0, 0, canvasPDF.width, canvasPDF.height);

                        // Aquí insertaría todo el código de dibujarHexagono
                        // Dibuja el fondo celeste del hexágono principal
                        ctx.beginPath();
                        for (let i = 0; i < 6; i++) {
                            const angulo = (i * Math.PI) / 3;
                            const x = centerX + radioMax * Math.cos(angulo);
                            const y = centerY + radioMax * Math.sin(angulo);

                            if (i === 0) {
                                ctx.moveTo(x, y);
                            } else {
                                ctx.lineTo(x, y);
                            }
                        }
                        ctx.closePath();
                        ctx.fillStyle = 'rgba(173, 216, 230, 0.7)';
                        ctx.fill();
                        ctx.strokeStyle = 'black';
                        ctx.stroke();

                        // Dibuja el hexágono verde (90%)
                        ctx.beginPath();
                        for (let i = 0; i < 6; i++) {
                            const angulo = (i * Math.PI) / 3;
                            const x = centerX + radio90 * Math.cos(angulo);
                            const y = centerY + radio90 * Math.sin(angulo);

                            if (i === 0) {
                                ctx.moveTo(x, y);
                            } else {
                                ctx.lineTo(x, y);
                            }
                        }
                        ctx.closePath();
                        ctx.fillStyle = 'rgba(0, 255, 0, 0.7)';
                        ctx.fill();
                        ctx.strokeStyle = 'green';
                        ctx.stroke();

                        // Dibuja el hexágono amarillo (70%)
                        ctx.beginPath();
                        for (let i = 0; i < 6; i++) {
                            const angulo = (i * Math.PI) / 3;
                            const x = centerX + radio70 * Math.cos(angulo);
                            const y = centerY + radio70 * Math.sin(angulo);

                            if (i === 0) {
                                ctx.moveTo(x, y);
                            } else {
                                ctx.lineTo(x, y);
                            }
                        }
                        ctx.closePath();
                        ctx.fillStyle = 'rgba(255, 255, 0, 0.7)';
                        ctx.fill();
                        ctx.strokeStyle = 'yellow';
                        ctx.stroke();

                        // Dibuja el hexágono rojo (50%)
                        ctx.beginPath();
                        for (let i = 0; i < 6; i++) {
                            const angulo = (i * Math.PI) / 3;
                            const x = centerX + radio50 * Math.cos(angulo);
                            const y = centerY + radio50 * Math.sin(angulo);

                            if (i === 0) {
                                ctx.moveTo(x, y);
                            } else {
                                ctx.lineTo(x, y);
                            }
                        }
                        ctx.closePath();
                        ctx.fillStyle = 'rgba(255, 0, 0, 0.9)';
                        ctx.fill();
                        ctx.strokeStyle = 'red';
                        ctx.stroke();

                        // Dibuja las líneas desde el centro hacia los vértices
                        ctx.beginPath();
                        for (let i = 0; i < 6; i++) {
                            const angulo = (i * Math.PI) / 3;
                            const x = centerX + radioMax * Math.cos(angulo);
                            const y = centerY + radioMax * Math.sin(angulo);

                            ctx.moveTo(centerX, centerY);
                            ctx.lineTo(x, y);
                        }
                        ctx.strokeStyle = 'gray';
                        ctx.stroke();

                        // Dibuja el área basada en las variables
                        ctx.beginPath();
                        for (let i = 0; i < 6; i++) {
                            const angulo = (i * Math.PI) / 3;
                            const porcentaje = variablesHexagono[i] / 100;
                            const radio = radioMax * porcentaje;
                            const x = centerX + radio * Math.cos(angulo);
                            const y = centerY + radio * Math.sin(angulo);

                            if (i === 0) {
                                ctx.moveTo(x, y);
                            } else {
                                ctx.lineTo(x, y);
                            }
                        }
                        ctx.closePath();
                        ctx.fillStyle = 'rgba(0, 150, 255, 0.7)';
                        ctx.fill();
                        ctx.strokeStyle = 'blue';
                        ctx.stroke();

                        // Agregar el valor de cada variable
                        ctx.font = '17px "Arial", strong';
                        ctx.fillStyle = 'black';
                        for (let i = 0; i < 6; i++) {
                            const angulo = (i * Math.PI) / 3;
                            const porcentaje = variablesHexagono[i] / 100;
                            const radioTexto = radioMax * porcentaje * 0.9;
                            const xTexto = centerX + radioTexto * Math.cos(angulo);
                            const yTexto = centerY + radioTexto * Math.sin(angulo);
                            ctx.fillText(`${variablesHexagono[i]}%`, xTexto - 15, yTexto + 5);
                        }

                        // Agregar los rótulos
                        ctx.font = '15px "Arial", strong';
                        ctx.fillStyle = 'black';
                        for (let i = 0; i < 6; i++) {
                            const angulo = (i * Math.PI) / 3;
                            const xRotulo = centerX + (radioMax + 20) * Math.cos(angulo);
                            const yRotulo = centerY + (radioMax + 20) * Math.sin(angulo);
                            const palabras = rotulosHexagono[i].split(' ');

                            if (i === 3) {
                                ctx.fillText(palabras[0], xRotulo - 35, yRotulo - 5);
                                ctx.fillText(palabras[1], xRotulo - 35, yRotulo + 14);
                            } else {
                                ctx.fillText(palabras[0], xRotulo - 18, yRotulo - 5);
                                ctx.fillText(palabras[1], xRotulo - 18, yRotulo + 14);
                            }
                        }
                        console.log("Hexágono dibujado correctamente.");
                    } else {
                        console.error("no se encontró el canvas con ID 'hexagonoPDF'.");
                    }
                    // Generar el PDF después de dibujar el hexágono
                    setTimeout(() => {
                        html2pdf().from(contenido).set(opciones).save().then(() => {
                            document.body.removeChild(contenido);
                        });
                    }, 500);
                }, 2000);

                // Generamos el PDF después de dibujar el hexágono
                const opciones = {
                    margin: 0,
                    filename: 'documento.pdf',
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { scale: 2, useCORS: true },
                    jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
                };
            }
        }

            ///
            // Alternativa: Capturar el canvas existente
            // const canvasExistente = document.getElementById('hexagonoCanvas');
            // if (canvasExistente) {
            //     const imagenDataURL = canvasExistente.toDataURL('image/png');

            //     const imagenHexagono = document.createElement('img');
            //     imagenHexagono.src = imagenDataURL;
            //     imagenHexagono.style.maxWidth = '100%';
            //     imagenHexagono.style.height = 'auto';

            //     cuartaPagina.appendChild(imagenHexagono);
            // }
            ///
        function crearPaginaConMarco() {
            const pagina = document.createElement('div');
            pagina.style.padding = '10mm';
            pagina.style.margin = '10mm';
            pagina.style.border = '2px solid #000';
            pagina.style.boxShadow = '0 0 10mm rgba(0,0,0,0.1)'; // Sombra suave
            pagina.style.minHeight = '240mm';
            pagina.style.borderRadius = '5mm';
            pagina.style.position = 'relative'; // Para posicionar elementos internos
            pagina.style.pageBreakAfter = 'always'; // Salto de página después
            return pagina;
        }
    }
</script>
</html>

<!-- // <script> -->

//     const apellidouser = localStorage.getItem("apellido");
//     const nombreUser = localStorage.getItem("nombre");
//     const apenom = nombreUser + ' ' + apellidouser;
//     const empresa = localStorage.getItem("empresa");
//     const CUIT = localStorage.getItem("CUIT");

//     document.getElementById("nombreEmpresa").textContent = empresa;
//     document.getElementById("nombreUsuario").textContent = apenom;

//     let var1 = 3;
//     let var2 = 3;
//     let var3 = 3;
//     let var4 = 3;
//     let var5 = 3;
//     let var6 = 3;

//     // Función autoinvocada - Ejecución inmediata
//     (async function () {
//         try {
//             // Espera a que la función `leerTotalCapitulos` se complete antes de continuar
//             totalCapitulos = await leerTotalCapitulos(CUIT);

//             // Ejecuta el código que depende de `totalCapitulos` aquí, ya que ahora tienes los datos
//             if (totalCapitulos && totalCapitulos.exists) {
//                 // console.table(totalCapitulos.records); // Muestra los resultados una vez que están disponibles
//                 // Aquí puedes colocar más lógica que depende de los datos de `totalCapitulos`
//                 ejecutarGrafico(totalCapitulos.records); // Llama a una función que necesite los datos
//             } else {
//                 console.log("No se encontraron capítulos.");
//             }
//         } catch (error) {
//             console.error("Error en la función autoinvocada:", error);
//         }
//     })();

//     async function leerTotalCapitulos() {
//         try {
//             const response = await fetch(`/totalCapitulos?CUIT=${CUIT}`);
//             if (response.ok) {
//                 totalCapitulos = await response.json(); //registro seccion recibido en formato JSON
//                 // console.table(totalCapitulos);
//                 return { exists: true, records: totalCapitulos };
//             } else {
//                 console.error("Error al obtener los datos");
//             }
//         } catch (error) {
//             console.error("Error al realizar la solicitud:", error);
//         }
//         return false;
//     }

//     function ejecutarGrafico(datos) {
//         if (totalCapitulos && totalCapitulos.exists) {
//             totalCapitulos.records.forEach((datos) => {
//                 switch (datos.capitulo) {
//                     case "A":
//                         var1 = datos.porcentaje; // Asigna el porcentaje a var1
//                         break;
//                     case "B":
//                         var2 = datos.porcentaje; // Asigna el porcentaje a var2
//                         break;
//                     case "C":
//                         var3 = datos.porcentaje; // Asigna el porcentaje a var3
//                         break;
//                     case "D":
//                         var4 = datos.porcentaje; // Asigna el porcentaje a var4
//                         break;
//                     case "E":
//                         var5 = datos.porcentaje; // Asigna el porcentaje a var5
//                         break;
//                     case "F":
//                         var6 = datos.porcentaje; // Asigna el porcentaje a var6
//                         break;
//                     default:
//                         console.warn(`Capítulo no reconocido: ${datos.CAPITULO}`);
//                         break;
//                 }
//             });
//         }

//         // Mostrar las variables después de asignarles valores
//         // console.log({ var1, var2, var3, var4, var5, var6 });

//         const variables = [var1, var2, var3, var4, var5, var6]; // Porcentajes de cada área (0 a 100)
//         const rotulos = ['Gobierno Corporativo', 'Apetito Riesgo', 'Riesgos Mercado', 'Riesgos Procesos', 'Situación Financiera', 'Generación Resultados']; // Rótulos para cada eje

//         function dibujarHexagono(variables, rotulos) {
//             const canvas = document.getElementById('hexagonoCanvas');
//             const ctx = canvas.getContext('2d');
//             const centerX = canvas.width / 2;
//             const centerY = canvas.height / 2;
//             const radioMax = 170; // Radio máximo (el tamaño máximo del hexágono)
//             const radio90 = radioMax * 0.9; // Radio del hexágono amarillo (90%)
//             const radio70 = radioMax * 0.7; // Radio del hexágono verde (70%)
//             const radio50 = radioMax * 0.5; // Radio del hexágono rojo (50%)

//             ctx.clearRect(0, 0, canvas.width, canvas.height); // Limpiar el canvas

//             // Dibuja el fondo celeste del hexágono principal (100% del hexágono externo)
//             ctx.beginPath();
//             for (let i = 0; i < 6; i++) {
//                 const angulo = (i * Math.PI) / 3; // 60 grados por vértice
//                 const x = centerX + radioMax * Math.cos(angulo);
//                 const y = centerY + radioMax * Math.sin(angulo);

//                 if (i === 0) {
//                     ctx.moveTo(x, y); // Mueve al primer punto
//                 } else {
//                     ctx.lineTo(x, y); // Dibuja los bordes del hexágono externo
//                 }
//             }
//             ctx.closePath();
//             ctx.fillStyle = 'rgba(173, 216, 230, 0.7)'; // Color celeste con opacidad 0.5
//             ctx.fill(); // Rellena el área del hexágono externo con fondo celeste
//             ctx.strokeStyle = 'black';
//             ctx.stroke(); // Dibuja el borde exterior del hexágono

//             // Dibuja el hexágono verde (90% del hexágono externo)
//             ctx.beginPath();
//             for (let i = 0; i < 6; i++) {
//                 const angulo = (i * Math.PI) / 3; // 60 grados por vértice
//                 const x = centerX + radio90 * Math.cos(angulo);
//                 const y = centerY + radio90 * Math.sin(angulo);

//                 if (i === 0) {
//                     ctx.moveTo(x, y); // Mueve al primer punto
//                 } else {
//                     ctx.lineTo(x, y); // Dibuja los bordes del hexágono verde
//                 }
//             }
//             ctx.closePath();
//             ctx.fillStyle = 'rgba(0, 255, 0, 0.7)'; // Color de relleno verde con transparencia
//             ctx.fill(); // Rellena el área del hexágono verde
//             ctx.strokeStyle = 'green';

//             // Dibuja el hexágono amarillo (70% del hexágono externo)
//             ctx.beginPath();
//             for (let i = 0; i < 6; i++) {
//                 const angulo = (i * Math.PI) / 3; // 60 grados por vértice
//                 const x = centerX + radio70 * Math.cos(angulo);
//                 const y = centerY + radio70 * Math.sin(angulo);

//                 if (i === 0) {
//                     ctx.moveTo(x, y); // Mueve al primer punto
//                 } else {
//                     ctx.lineTo(x, y); // Dibuja los bordes del hexágono amarillo
//                 }
//             }
//             ctx.closePath();
//             ctx.fillStyle = 'rgba(255, 255, 0, 0.7)'; // Color de relleno verde con transparencia
//             ctx.fill(); // Rellena el área del hexágono verde
//             ctx.strokeStyle = 'yellow';

//             // Dibuja el hexágono rojo (50% del hexágono externo)
//             ctx.beginPath();
//             for (let i = 0; i < 6; i++) {
//                 const angulo = (i * Math.PI) / 3; // 60 grados por vértice
//                 const x = centerX + radio50 * Math.cos(angulo);
//                 const y = centerY + radio50 * Math.sin(angulo);

//                 if (i === 0) {
//                     ctx.moveTo(x, y); // Mueve al primer punto
//                 } else {
//                     ctx.lineTo(x, y); // Dibuja los bordes del hexágono rojo
//                 }
//             }
//             ctx.closePath();
//             ctx.fillStyle = 'rgba(255, 0, 0, 0.9)'; // Color de relleno rojo con menos transparencia
//             ctx.fill(); // Rellena el área del hexágono rojo
//             ctx.strokeStyle = 'red';
//             ctx.stroke(); // Dibuja el borde del hexágono rojo

//             // Dibuja las líneas desde el centro hacia los vértices
//             ctx.beginPath();
//             for (let i = 0; i < 6; i++) {
//                 const angulo = (i * Math.PI) / 3; // 60 grados por vértice
//                 const x = centerX + radioMax * Math.cos(angulo);
//                 const y = centerY + radioMax * Math.sin(angulo);

//                 ctx.moveTo(centerX, centerY); // Empieza desde el centro
//                 ctx.lineTo(x, y); // Línea desde el centro hasta el borde
//             }
//             ctx.strokeStyle = 'gray';
//             ctx.stroke(); // Dibuja las líneas radiales

//             // Dibuja el área basada en las variables (llenado parcial)
//             ctx.beginPath();
//             for (let i = 0; i < 6; i++) {
//                 const angulo = (i * Math.PI) / 3; // 60 grados por vértice
//                 const porcentaje = variables[i] / 100; // Porcentaje de llenado del triángulo
//                 const radio = radioMax * porcentaje; // Ajusta el radio según el porcentaje
//                 const x = centerX + radio * Math.cos(angulo);
//                 const y = centerY + radio * Math.sin(angulo);

//                 if (i === 0) {
//                     ctx.moveTo(x, y); // Mueve al primer punto
//                 } else {
//                     ctx.lineTo(x, y); // Dibuja las líneas para el área rellena
//                 }
//             }
//             ctx.closePath();
//             ctx.fillStyle = 'rgba(0, 150, 255, 0.7)'; // Color de relleno con transparencia
//             ctx.fill(); // Rellena el área del hexágono dinámico
//             ctx.strokeStyle = 'blue';
//             ctx.stroke(); // Dibuja el borde de la forma rellena

//             // Agregar el valor de cada variable dentro de su triángulo
//             ctx.font = '17px "Abel", strong';
//             ctx.fillStyle = 'black';
//             for (let i = 0; i < 6; i++) {
//                 const angulo = (i * Math.PI) / 3; // 60 grados por vértice
//                 const porcentaje = variables[i] / 100; // Porcentaje de llenado del triángulo
//                 const radioTexto = radioMax * porcentaje * 0.9; // Posición del texto, más cerca del centro

//                 // Coordenadas del texto basado en el porcentaje
//                 const xTexto = centerX + radioTexto * Math.cos(angulo);
//                 const yTexto = centerY + radioTexto * Math.sin(angulo);

//                 // Dibujar el valor de la variable en la posición calculada
//                 ctx.fillText(`${variables[i]}%`, xTexto - 15, yTexto + 5); // Ajuste menor para centrar el texto
//             }

//             // Agregar los rótulos fuera del hexágono en dos filas
//             ctx.font = '15px "Abel", strong';
//             ctx.fillStyle = 'black'; // Color de los rótulos
//             for (let i = 0; i < 6; i++) {
//                 const angulo = (i * Math.PI) / 3; // 60 grados por vértice
//                 const xRotulo = centerX + (radioMax + 20) * Math.cos(angulo); // Posición del rótulo (fuera del hexágono)
//                 const yRotulo = centerY + (radioMax + 20) * Math.sin(angulo);

//                 const palabras = rotulos[i].split(' ');

//                 if (i === 3) {
//                     ctx.fillText(palabras[0], xRotulo - 35, yRotulo - 5); // Primera palabra
//                     ctx.fillText(palabras[1], xRotulo - 35, yRotulo + 14); // Segunda palabra
//                 } else {
//                     ctx.fillText(palabras[0], xRotulo - 18, yRotulo - 5); // Primera palabra
//                     ctx.fillText(palabras[1], xRotulo - 18, yRotulo + 14); // Segunda palabra
//                 }
//             }
//         }
//         dibujarHexagono(variables, rotulos);
//     }

<!-- // </script>

// </body>

// </html> -->

// // <!-- function generarPDF() {
// //     // Crear un elemento temporal para construir el contenido HTML
// //     const contenido = document.createElement('div');
    
// //     // Añadir la primera página (imagen institucional)
// //     const primeraPagina = document.createElement('div');
// //     primeraPagina.style.width = '100%';
// //     primeraPagina.style.height = '297mm'; // Altura A4
// //     primeraPagina.style.backgroundImage = 'url("../img/imagenPDF.webp")';
// //     primeraPagina.style.backgroundSize = 'cover';
// //     primeraPagina.style.backgroundPosition = 'center';
// //     primeraPagina.style.pageBreakAfter = 'always';
// //     contenido.appendChild(primeraPagina);
    
// //     // Añadir la segunda página (índice)
// //     const segundaPagina = document.createElement('div');
// //     segundaPagina.style.padding = '20mm';
// //     segundaPagina.style.pageBreakAfter = 'always';
    
// //     const tituloIndice = document.createElement('h1');
// //     tituloIndice.textContent = 'Índice General';
// //     tituloIndice.style.textAlign = 'center';
// //     tituloIndice.style.fontFamily = 'Helvetica, Arial, sans-serif';
// //     segundaPagina.appendChild(tituloIndice);
    
// //     const indice = ["Introducción", "Desarrollo", "Conclusión"];
// //     const listaIndice = document.createElement('ol');
// //     listaIndice.style.marginTop = '20mm';
// //     listaIndice.style.fontFamily = 'Helvetica, Arial, sans-serif';
    
// //     indice.forEach(item => {
// //         const elementoLista = document.createElement('li');
// //         elementoLista.textContent = item;
// //         elementoLista.style.marginBottom = '5mm';
// //         listaIndice.appendChild(elementoLista);
// //     });
    
// //     segundaPagina.appendChild(listaIndice);
// //     contenido.appendChild(segundaPagina);
    
// //     // Añadir la tercera página (contenido)
// //     const terceraPagina = document.createElement('div');
// //     terceraPagina.style.padding = '20mm';
    
// //     const parrafo = document.createElement('p');
// //     parrafo.style.fontFamily = 'Helvetica, Arial, sans-serif';
// //     parrafo.style.fontSize = '14pt';
// //     parrafo.style.lineHeight = '1.5';
// //     parrafo.textContent = "De acuerdo con los términos de la Propuesta de servicios profesionales de BDT Advisory LLC para BDT Advisory del Sistema HexaRCi, el presente informe tiene el ámbito de uso reservado previsto en la misma. De acuerdo con la información cargada por BDT Advisory y a los parámetros del Modelo HexaRCi, la Compañia BDT Advisory es una compañia calificada preliminarmente como tipo:";
// //     terceraPagina.appendChild(parrafo);
    
// //     const resultado = document.createElement('p');
// //     resultado.textContent = "INESTABLE";
// //     resultado.style.fontFamily = 'Helvetica, Arial, sans-serif';
// //     resultado.style.fontSize = '16pt';
// //     resultado.style.fontWeight = 'bold';
// //     resultado.style.marginTop = '15mm';
// //     terceraPagina.appendChild(resultado);
    
// //     contenido.appendChild(terceraPagina);
    
// //     // Configurar las opciones de html2pdf
// //     const opciones = {
// //         margin: 0,
// //         filename: 'documento.pdf',
// //         image: { type: 'jpeg', quality: 0.98 },
// //         html2canvas: { scale: 2, useCORS: true },
// //         jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
// //     };
    
// //     // Generar el PDF
// //     html2pdf().from(contenido).set(opciones).save();
// // } -->